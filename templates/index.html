<!DOCTYPE html>
<html>
<head>
    <title>Advanced Network Stress Testing Tool - AUTHORIZED USE ONLY</title>
    <style>
        /* Base Styles */
        body { 
            font-family: Arial, sans-serif; 
            margin: 0;
            padding: 20px; 
            background: #1a1a1a; 
            color: #fff;
        }
        .container { 
            max-width: 1200px; 
            margin: 0 auto; 
            background: #2d2d2d; 
            padding: 20px; 
            border-radius: 10px; 
            box-shadow: 0 4px 20px rgba(0,0,0,0.3);
        }
        .legal-warning {
            background: #5c0000;
            border: 1px solid #ff4444;
            padding: 15px;
            border-radius: 5px;
            margin-bottom: 20px;
            color: #ffaaaa;
        }
        
        /* Tab Styles */
        .tabs {
            display: flex;
            background: #3d3d3d;
            border-radius: 5px 5px 0 0;
            overflow: hidden;
        }
        .tab {
            padding: 15px 25px;
            cursor: pointer;
            background: #3d3d3d;
            border: none;
            color: #ccc;
            font-weight: bold;
            flex: 1;
            text-align: center;
        }
        .tab.active {
            background: #dc3545;
            color: white;
        }
        .tab-content {
            display: none;
            padding: 25px;
            background: #363636;
            border-radius: 0 0 5px 5px;
        }
        .tab-content.active {
            display: block;
        }
        
        /* Form Styles */
        .form-group { 
            margin: 15px 0; 
        }
        label { 
            display: block; 
            margin-bottom: 8px; 
            font-weight: bold; 
            color: #ddd;
        }
        input, select, textarea { 
            width: 100%; 
            padding: 10px; 
            border: 1px solid #555; 
            border-radius: 4px; 
            box-sizing: border-box;
            background: #2d2d2d;
            color: #fff;
        }
        .form-row {
            display: flex;
            gap: 20px;
            margin-bottom: 15px;
        }
        .form-row .form-group {
            flex: 1;
        }
        
        /* Button Styles */
        button { 
            background: #dc3545; 
            color: white; 
            padding: 12px 24px; 
            border: none; 
            border-radius: 4px; 
            cursor: pointer; 
            margin: 5px; 
            font-size: 14px;
            font-weight: bold;
            transition: background 0.3s;
        }
        button:hover:not(:disabled) {
            background: #c82333;
        }
        button:disabled { 
            background: #666; 
            cursor: not-allowed;
        }
        .btn-success {
            background: #28a745;
        }
        .btn-success:hover:not(:disabled) {
            background: #218838;
        }
        
        /* Stats and Monitoring */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        .stat-card {
            background: #3d3d3d;
            padding: 15px;
            border-radius: 5px;
            text-align: center;
            border-left: 4px solid #dc3545;
        }
        .stat-value {
            font-size: 24px;
            font-weight: bold;
            color: #dc3545;
        }
        .stat-label {
            font-size: 12px;
            color: #aaa;
            margin-top: 5px;
        }
        
        /* Method Grid */
        .method-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin: 15px 0;
        }
        .method-option {
            padding: 15px;
            border: 2px solid #555;
            border-radius: 5px;
            cursor: pointer;
            text-align: center;
            background: #3d3d3d;
            transition: all 0.3s;
        }
        .method-option:hover {
            border-color: #dc3545;
            background: #4d2d2d;
        }
        .method-option.selected {
            border-color: #dc3545;
            background: #5c2d2d;
        }
        
        /* Proxy Table */
        .proxy-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: #2d2d2d;
        }
        .proxy-table th,
        .proxy-table td {
            padding: 10px;
            text-align: left;
            border-bottom: 1px solid #444;
        }
        .proxy-table th {
            background: #3d3d3d;
            color: #dc3545;
        }
        
        /* Connections Monitor */
        .connections-list {
            max-height: 300px;
            overflow-y: auto;
            background: #2d2d2d;
            border: 1px solid #444;
            border-radius: 5px;
            padding: 10px;
        }
        .connection-item {
            padding: 8px;
            border-bottom: 1px solid #444;
            font-family: monospace;
            font-size: 12px;
        }
        .connection-item:last-child {
            border-bottom: none;
        }
        
        /* Test Results Styles */
        .test-results {
            background: #1a1a1a;
            border: 1px solid #444;
            border-radius: 5px;
            padding: 15px;
            max-height: 400px;
            overflow-y: auto;
            font-family: 'Courier New', monospace;
            font-size: 12px;
            line-height: 1.4;
        }
        .test-results div {
            padding: 2px 0;
            border-bottom: 1px solid #333;
        }
        
        h1, h2, h3 { 
            color: #dc3545; 
            margin-top: 0;
        }
        .success { color: #28a745; font-weight: bold; }
        .error { color: #dc3545; font-weight: bold; }
        .warning { color: #ffc107; font-weight: bold; }
        
        /* Checkbox Styles */
        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin: 15px 0;
        }
        .checkbox-group input[type="checkbox"] {
            width: auto;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üõ°Ô∏è Advanced Network Stress Testing Tool - AUTHORIZED USE ONLY</h1>
        
        <div class="legal-warning">
            <strong>üö® LEGAL WARNING:</strong> ONLY use on systems you OWN or have EXPLICIT WRITTEN permission to test. 
            Unauthorized use is ILLEGAL and can result in CRIMINAL CHARGES.
        </div>
        
        <!-- Tab Navigation -->
        <div class="tabs">
            <button class="tab active" onclick="openTab('stress-testing')">Stress Testing</button>
            <button class="tab" onclick="openTab('proxy-manager')">Proxy Manager</button>
            <button class="tab" onclick="openTab('real-time-monitor')">Real-Time Monitor</button>
        </div>
        
        <!-- Stress Testing Tab -->
        <div id="stress-testing" class="tab-content active">
            <h2>üéØ Target Configuration</h2>
            
            <div class="form-group">
                <label>Target URL/IP:</label>
                <input type="text" id="target" placeholder="Enter target hostname (e.g., your-test-site.com)" value="">
            </div>
            
            <div class="form-group">
                <label>Port(s):</label>
                <input type="text" id="ports" value="80,443,8080,8443" placeholder="Enter ports separated by commas">
            </div>
            
            <h2>‚ö° Stress Configuration</h2>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Threads:</label>
                    <input type="number" id="threads" value="10" min="1" max="20">
                </div>
                
                <div class="form-group">
                    <label>Requests (0 = unlimited):</label>
                    <input type="number" id="max_requests" value="500" min="0" max="1000">
                </div>
                
                <div class="form-group">
                    <label>Duration (seconds):</label>
                    <input type="number" id="duration" value="30" min="1" max="30">
                </div>
            </div>
            
            <div class="checkbox-group">
                <input type="checkbox" id="use_proxies">
                <label for="use_proxies">Use Proxies</label>
                <span style="margin-left: 10px; color: #aaa;">Active Proxies: <span id="activeProxiesCount">0</span></span>
            </div>

            <h2>üéÆ Stress Methods</h2>
            <div class="method-grid">
                <div class="method-option" onclick="selectMethod('http_flood')">
                    üöÄ ULTRA HTTP Flood
                </div>
                <div class="method-option" onclick="selectMethod('udp_flood')">
                    üì¶ ENHANCED UDP Flood
                </div>
            </div>
            <input type="hidden" id="method" value="http_flood">
            
            <div style="text-align: center; margin: 25px 0;">
                <button onclick="showLegalWarning()" id="startBtn">üöÄ START STRESS TEST</button>
                <button onclick="stopAttack()" id="stopBtn" disabled>üõë STOP TEST</button>
            </div>

            <!-- Test Results Section -->
            <div class="form-group">
                <h3>üìã Test Results</h3>
                <div class="test-results" id="testResults">
                    <div style="color: #666; text-align: center; padding: 20px;">
                        Test results will appear here when you start an attack...
                    </div>
                </div>
                <button onclick="clearLogs()" style="margin-top: 10px;">üóëÔ∏è Clear Logs</button>
            </div>
        </div>
        
        <!-- Proxy Manager Tab -->
        <div id="proxy-manager" class="tab-content">
            <h2>üìã Proxy Manager</h2>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Proxy Type:</label>
                    <select id="proxyType">
                        <option value="HTTP">HTTP</option>
                        <option value="SOCKS4">SOCKS4</option>
                        <option value="SOCKS5">SOCKS5</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>Address:</label>
                    <input type="text" id="proxyAddress" placeholder="IP address">
                </div>
                
                <div class="form-group">
                    <label>Port:</label>
                    <input type="number" id="proxyPort" placeholder="Port">
                </div>
            </div>
            
            <div class="form-row">
                <div class="form-group">
                    <label>Username (optional):</label>
                    <input type="text" id="proxyUsername" placeholder="Username">
                </div>
                
                <div class="form-group">
                    <label>Password (optional):</label>
                    <input type="password" id="proxyPassword" placeholder="Password">
                </div>
                
                <div class="form-group" style="display: flex; align-items: end;">
                    <button onclick="addProxy()" class="btn-success">‚ûï Add Proxy</button>
                </div>
            </div>
            
            <h3>üì• Bulk Import</h3>
            <div class="form-group">
                <label>Import Proxies (format: ip:port, one per line):</label>
                <textarea id="bulkProxies" rows="6" placeholder="44.215.73.168:8118
4.149.153.123:3128
116.203.139.209:5678"></textarea>
            </div>
            <button onclick="importProxies()" class="btn-success">üì• Import Proxies</button>
            <button onclick="checkAllProxies()">üîç Check All Proxies</button>
            
            <h3>üìä Current Proxies</h3>
            <div class="proxy-table-container">
                <table class="proxy-table">
                    <thead>
                        <tr>
                            <th>Type</th>
                            <th>Address</th>
                            <th>Port</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="proxyTableBody">
                        <!-- Proxy list will be populated here -->
                    </tbody>
                </table>
            </div>
        </div>
        
        <!-- Real-Time Monitor Tab -->
        <div id="real-time-monitor" class="tab-content">
            <h2>üìä Real-Time Statistics</h2>
            
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-value" id="statRequestsSent">0</div>
                    <div class="stat-label">Requests Sent</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value success" id="statSuccessful">0</div>
                    <div class="stat-label">Successful</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value error" id="statFailed">0</div>
                    <div class="stat-label">Failed</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statCurrentRPS">0</div>
                    <div class="stat-label">Current RPS</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statAvgRPS">0</div>
                    <div class="stat-label">Average RPS</div>
                </div>
                <div class="stat-card">
                    <div class="stat-value" id="statUDPPackets">0</div>
                    <div class="stat-label">UDP Packets</div>
                </div>
            </div>
            
            <h3>üåê Active Connections</h3>
            <div class="connections-list" id="connectionsList">
                <!-- Connections will be populated here -->
            </div>
        </div>
    </div>

    <script>
        // Tab Management
        function openTab(tabName) {
            // Hide all tab contents
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Remove active class from all tabs
            document.querySelectorAll('.tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Show selected tab
            document.getElementById(tabName).classList.add('active');
            event.currentTarget.classList.add('active');
            
            // Load proxies if opening proxy manager
            if (tabName === 'proxy-manager') {
                loadProxies();
            }
        }
        
        // Attack Methods
        let selectedMethod = 'http_flood';
        
        function selectMethod(method) {
            selectedMethod = method;
            document.getElementById('method').value = method;
            
            // Update UI
            document.querySelectorAll('.method-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            event.target.classList.add('selected');
        }
        
        // Legal Warning and Attack Control
        function showLegalWarning() {
            const target = document.getElementById('target').value;
            const ports = document.getElementById('ports').value;
            
            if (!target || !ports) {
                alert('Please enter target and ports');
                return;
            }
            
            const warning = `üö® EXTREME LEGAL WARNING üö®\n\nYou are about to stress test: ${target}\nPorts: ${ports}\n\nLEGAL REQUIREMENTS:\n‚Ä¢ You MUST own this target\n‚Ä¢ OR have EXPLICIT WRITTEN permission\n‚Ä¢ Unauthorized testing is ILLEGAL\n‚Ä¢ You accept FULL LEGAL responsibility\n\nDo you confirm you meet these requirements?`;
            
            if (confirm(warning)) {
                startAttack();
            }
        }
        
        function startAttack() {
            const target = document.getElementById('target').value;
            const ports = document.getElementById('ports').value;
            const duration = document.getElementById('duration').value;
            const threads = document.getElementById('threads').value;
            const max_requests = document.getElementById('max_requests').value;
            const method = selectedMethod;
            const use_proxies = document.getElementById('use_proxies').checked;
            
            if (!target || !ports) {
                alert('Please enter target and ports');
                return;
            }
            
            fetch('/start_attack', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ 
                    target, 
                    ports, 
                    duration, 
                    threads, 
                    max_requests, 
                    method,
                    use_proxies 
                })
            }).then(response => response.json())
              .then(data => {
                  if (data.error) {
                      alert('Error: ' + data.error);
                      return;
                  }
                  document.getElementById('startBtn').disabled = true;
                  document.getElementById('stopBtn').disabled = false;
                  startStatusUpdates();
              })
              .catch(error => {
                  alert('Error starting attack: ' + error);
              });
        }
        
        function stopAttack() {
            fetch('/stop_attack')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('startBtn').disabled = false;
                    document.getElementById('stopBtn').disabled = true;
                    clearInterval(statusInterval);
                });
        }
        
        // Status Updates and Test Results
        let statusInterval;
        
        function startStatusUpdates() {
            statusInterval = setInterval(() => {
                fetch('/attack_status')
                    .then(response => response.json())
                    .then(data => {
                        // Update statistics
                        document.getElementById('statRequestsSent').textContent = data.requests_sent.toLocaleString();
                        document.getElementById('statSuccessful').textContent = data.successful_requests.toLocaleString();
                        document.getElementById('statFailed').textContent = data.failed_requests.toLocaleString();
                        document.getElementById('statCurrentRPS').textContent = Math.round(data.current_rps);
                        document.getElementById('statAvgRPS').textContent = Math.round(data.avg_rps);
                        document.getElementById('statUDPPackets').textContent = data.packets_sent.toLocaleString();
                        
                        // Update test results logs
                        updateTestLogs(data.test_logs);
                        
                        // Update connections list
                        const connectionsList = document.getElementById('connectionsList');
                        connectionsList.innerHTML = '';
                        
                        if (data.active_connections && data.active_connections.length > 0) {
                            data.active_connections.slice().reverse().forEach(conn => {
                                const connElement = document.createElement('div');
                                connElement.className = 'connection-item';
                                connElement.innerHTML = `
                                    <span style="color: #dc3545">[${new Date(conn.timestamp * 1000).toLocaleTimeString()}]</span>
                                    ${conn.type} ‚Üí ${conn.target} 
                                    <span style="color: #28a745">(${conn.proxy})</span>
                                    <span style="color: #ffc107">${conn.status}</span>
                                `;
                                connectionsList.appendChild(connElement);
                            });
                        }
                        
                        if (!data.is_running) {
                            document.getElementById('startBtn').disabled = false;
                            document.getElementById('stopBtn').disabled = true;
                            clearInterval(statusInterval);
                        }
                    })
                    .catch(error => {
                        console.error('Status update error:', error);
                    });
            }, 1000);
        }

        function updateTestLogs(logs) {
            const testResults = document.getElementById('testResults');
            if (logs && logs.length > 0) {
                testResults.innerHTML = '';
                logs.forEach(log => {
                    const logElement = document.createElement('div');
                    logElement.style.padding = '2px 0';
                    logElement.style.borderBottom = '1px solid #333';
                    
                    // Color code different types of messages
                    if (log.includes('üöÄ') || log.includes('üéØ') || log.includes('üî¢') || log.includes('‚è±Ô∏è') || log.includes('üßµ') || log.includes('üì®') || log.includes('üîå')) {
                        logElement.style.color = '#dc3545'; // Red for important info
                    } else if (log.includes('üìä') || log.includes('‚úÖ') || log.includes('üì¶') || log.includes('üíæ')) {
                        logElement.style.color = '#28a745'; // Green for results
                    } else if (log.includes('üí•') || log.includes('‚ö°') || log.includes('üî•')) {
                        logElement.style.color = '#ffc107'; // Yellow for performance ratings
                    } else if (log.includes('=')) {
                        logElement.style.color = '#666'; // Gray for separators
                    } else if (log.includes('‚ùå')) {
                        logElement.style.color = '#dc3545'; // Red for errors
                    } else if (log.includes('üêå')) {
                        logElement.style.color = '#17a2b8'; // Blue for slowloris
                    } else if (log.includes('üì¶')) {
                        logElement.style.color = '#6f42c1'; // Purple for UDP
                    } else {
                        logElement.style.color = '#ccc'; // Default color
                    }
                    
                    // Make certain messages bold
                    if (log.includes('üöÄ STARTING') || log.includes('üìä COMPLETED') || log.includes('üí• NUCLEAR') || log.includes('‚ö° EXTREME') || log.includes('üî• HIGH')) {
                        logElement.style.fontWeight = 'bold';
                    }
                    
                    logElement.textContent = log;
                    testResults.appendChild(logElement);
                });
                // Auto-scroll to bottom
                testResults.scrollTop = testResults.scrollHeight;
            } else {
                testResults.innerHTML = '<div style="color: #666; text-align: center; padding: 20px;">Test results will appear here when you start an attack...</div>';
            }
        }

        function clearLogs() {
            fetch('/clear_logs')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('testResults').innerHTML = 
                        '<div style="color: #666; text-align: center; padding: 20px;">Test results will appear here when you start an attack...</div>';
                })
                .catch(error => {
                    alert('Error clearing logs: ' + error);
                });
        }
        
        // Proxy Management
        function loadProxies() {
            fetch('/get_proxies')
                .then(response => response.json())
                .then(data => {
                    if (data.error) {
                        console.error('Proxy load error:', data.error);
                        return;
                    }
                    updateProxyTable(data.proxies);
                    document.getElementById('activeProxiesCount').textContent = data.active_count;
                })
                .catch(error => {
                    console.error('Proxy load error:', error);
                });
        }
        
        function updateProxyTable(proxies) {
            const tbody = document.getElementById('proxyTableBody');
            tbody.innerHTML = '';
            
            if (proxies.length === 0) {
                tbody.innerHTML = '<tr><td colspan="5" style="text-align: center; color: #666;">No proxies added yet</td></tr>';
                return;
            }
            
            proxies.forEach(proxy => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${proxy.type}</td>
                    <td>${proxy.address}</td>
                    <td>${proxy.port}</td>
                    <td><span class="success">Active</span></td>
                    <td><button onclick="removeProxy('${proxy.address}', ${proxy.port})" style="background: #dc3545; padding: 5px 10px; font-size: 12px;">Remove</button></td>
                `;
                tbody.appendChild(row);
            });
        }
        
        function addProxy() {
            const type = document.getElementById('proxyType').value;
            const address = document.getElementById('proxyAddress').value;
            const port = document.getElementById('proxyPort').value;
            const username = document.getElementById('proxyUsername').value;
            const password = document.getElementById('proxyPassword').value;
            
            if (!address || !port) {
                alert('Please enter address and port');
                return;
            }
            
            fetch('/add_proxy', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ type, address, port, username, password })
            }).then(response => response.json())
              .then(data => {
                  alert(data.message);
                  if (data.status === 'success') {
                      loadProxies();
                      // Clear form
                      document.getElementById('proxyAddress').value = '';
                      document.getElementById('proxyPort').value = '';
                      document.getElementById('proxyUsername').value = '';
                      document.getElementById('proxyPassword').value = '';
                  }
              })
              .catch(error => {
                  alert('Error adding proxy: ' + error);
              });
        }
        
        function importProxies() {
            const text = document.getElementById('bulkProxies').value;
            
            if (!text) {
                alert('Please enter proxies to import');
                return;
            }
            
            fetch('/import_proxies', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ text })
            }).then(response => response.json())
              .then(data => {
                  alert(data.message);
                  loadProxies();
                  document.getElementById('bulkProxies').value = '';
              })
              .catch(error => {
                  alert('Error importing proxies: ' + error);
              });
        }
        
        function checkAllProxies() {
            fetch('/check_proxies', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' }
            }).then(response => response.json())
              .then(data => {
                  alert('Proxy check started. This may take a few minutes.');
                  setTimeout(loadProxies, 5000); // Reload after 5 seconds
              })
              .catch(error => {
                  alert('Error checking proxies: ' + error);
              });
        }
        
        function removeProxy(address, port) {
            if (confirm(`Remove proxy ${address}:${port}?`)) {
                // In a real implementation, you'd call a remove endpoint
                alert('Proxy removal would be implemented with a backend endpoint');
                loadProxies();
            }
        }
        
        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            document.querySelector('.method-option').classList.add('selected');
            loadProxies();
            startStatusUpdates(); // Start monitoring even if no attack is running
        });
    </script>
</body>
</html>
